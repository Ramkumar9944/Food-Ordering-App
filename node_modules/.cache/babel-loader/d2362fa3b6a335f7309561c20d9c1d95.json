{"ast":null,"code":"var _jsxFileName = \"/home/ram/Food-Ordering-App/src/components/Cart/Cart.js\",\n    _s = $RefreshSig$();\n\nimport \"./Cart.css\";\nimport Modal from \"../UI/Modal/Modal\";\nimport React, { useContext, useState } from \"react\";\nimport CartContext from \"../../store/cart-context\";\nimport CartItem from \"./CartItem\";\nimport Checkout from \"../Cart/Checkout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Cart = props => {\n  _s();\n\n  const [isCheckout, setIsCheckout] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [didSubmit, setDidSubmit] = useState(false);\n  const cartctx = useContext(CartContext);\n  let totalAmount = `₹${cartctx.totalAmount.toFixed(2)}`;\n\n  const AddItemHandler = item => {\n    cartctx.addItem({ ...item,\n      amount: 1\n    });\n  };\n\n  const RemoveItemHandler = id => {\n    cartctx.removeItem({\n      id: id\n    });\n  };\n\n  const orderHandler = () => {\n    setIsCheckout(true);\n  };\n\n  const ConfirmHandler = async userData => {\n    setIsSubmitting(true);\n    await fetch(\"https://ghost-37ddc-default-rtdb.firebaseio.com/orders.json\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        user: userData,\n        Ordereditems: cartctx.items\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    setIsCheckout(false);\n    setIsSubmitting(false);\n    setDidSubmit(true);\n    cartctx.resetCart();\n  };\n\n  let cartItems = /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"cart-items\",\n    children: cartctx.items.map(item => /*#__PURE__*/_jsxDEV(CartItem, {\n      name: item.name,\n      price: item.price,\n      amount: item.amount,\n      onAdd: AddItemHandler.bind(null, item),\n      onRemove: RemoveItemHandler.bind(null, item.id)\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n\n  const modalActions = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"actions\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: props.closeCart,\n      children: \"Close\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), cartctx.items.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"order\",\n      onClick: orderHandler,\n      children: \"Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n\n  const CartContent = /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [cartItems, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"total\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Total Amount\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: totalAmount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), !isCheckout && modalActions]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n\n  const CheckOut = /*#__PURE__*/_jsxDEV(Checkout, {\n    onConfirm: ConfirmHandler,\n    onCancel: props.closeCart\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n\n  const SubmittingContent = /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Receiving the Order\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 29\n  }, this);\n\n  const Submitted = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"actions\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        \"text-align\": \"center\"\n      },\n      children: \"Order Received Successfully!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"close\",\n      onClick: props.closeCart,\n      children: \"Close\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    closeCart: props.closeCart,\n    children: [!isSubmitting && !didSubmit && !isCheckout && CartContent, isCheckout && CheckOut, isSubmitting && !didSubmit && !isCheckout && SubmittingContent, didSubmit && !isCheckout && Submitted]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Cart, \"4u/Vtf24LFaMNs29HynAQz73WUM=\");\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["Modal","React","useContext","useState","CartContext","CartItem","Checkout","Cart","props","isCheckout","setIsCheckout","isSubmitting","setIsSubmitting","didSubmit","setDidSubmit","cartctx","totalAmount","toFixed","AddItemHandler","item","addItem","amount","RemoveItemHandler","id","removeItem","orderHandler","ConfirmHandler","userData","fetch","method","body","JSON","stringify","user","Ordereditems","items","headers","resetCart","cartItems","map","name","price","bind","modalActions","closeCart","length","CartContent","CheckOut","SubmittingContent","Submitted"],"sources":["/home/ram/Food-Ordering-App/src/components/Cart/Cart.js"],"sourcesContent":["import \"./Cart.css\";\nimport Modal from \"../UI/Modal/Modal\";\nimport React, { useContext, useState } from \"react\";\nimport CartContext from \"../../store/cart-context\";\nimport CartItem from \"./CartItem\";\nimport Checkout from \"../Cart/Checkout\";\nconst Cart = (props) => {\n  const [isCheckout, setIsCheckout] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [didSubmit, setDidSubmit] = useState(false);\n  const cartctx = useContext(CartContext);\n  let totalAmount = `₹${cartctx.totalAmount.toFixed(2)}`;\n  const AddItemHandler = (item) => {\n    cartctx.addItem({ ...item, amount: 1 });\n  };\n  const RemoveItemHandler = (id) => {\n    cartctx.removeItem({ id: id });\n  };\n  const orderHandler = () => {\n    setIsCheckout(true);\n  };\n  const ConfirmHandler = async (userData) => {\n    setIsSubmitting(true);\n    await fetch(\"https://ghost-37ddc-default-rtdb.firebaseio.com/orders.json\", {\n      method: \"POST\",\n      body: JSON.stringify({ user: userData, Ordereditems: cartctx.items }),\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n    setIsCheckout(false);\n    setIsSubmitting(false);\n    setDidSubmit(true);\n    cartctx.resetCart();\n  };\n\n  let cartItems = (\n    <ul className=\"cart-items\">\n      {cartctx.items.map((item) => (\n        <CartItem\n          key={item.id}\n          name={item.name}\n          price={item.price}\n          amount={item.amount}\n          onAdd={AddItemHandler.bind(null, item)}\n          onRemove={RemoveItemHandler.bind(null, item.id)}\n        />\n      ))}\n    </ul>\n  );\n  const modalActions = (\n    <div className=\"actions\">\n      <button onClick={props.closeCart}>Close</button>\n      {cartctx.items.length > 0 && (\n        <button className=\"order\" onClick={orderHandler}>\n          Order\n        </button>\n      )}\n    </div>\n  );\n  const CartContent = (\n    <React.Fragment>\n      {cartItems}\n      <div className=\"total\">\n        <span>Total Amount</span>\n        <span>{totalAmount}</span>\n      </div>\n      {!isCheckout && modalActions}\n    </React.Fragment>\n  );\n  const CheckOut = (\n    <Checkout onConfirm={ConfirmHandler} onCancel={props.closeCart} />\n  );\n  const SubmittingContent = <p>Receiving the Order</p>;\n  const Submitted = (\n    <div className=\"actions\">\n      <h2 style={{ \"text-align\": \"center\" }}>Order Received Successfully!</h2>\n      <button className=\"close\" onClick={props.closeCart}>\n        Close\n      </button>\n    </div>\n  );\n  return (\n    <Modal closeCart={props.closeCart}>\n      {!isSubmitting && !didSubmit && !isCheckout && CartContent}\n      {isCheckout && CheckOut}\n      {isSubmitting && !didSubmit && !isCheckout && SubmittingContent}\n      {didSubmit && !isCheckout && Submitted}\n    </Modal>\n  );\n};\nexport default Cart;\n"],"mappings":";;;AAAA,OAAO,YAAP;AACA,OAAOA,KAAP,MAAkB,mBAAlB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,QAAP,MAAqB,kBAArB;;;AACA,MAAMC,IAAI,GAAIC,KAAD,IAAW;EAAA;;EACtB,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BP,QAAQ,CAAC,KAAD,CAA5C;EACA,MAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkCT,QAAQ,CAAC,KAAD,CAAhD;EACA,MAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAMY,OAAO,GAAGb,UAAU,CAACE,WAAD,CAA1B;EACA,IAAIY,WAAW,GAAI,IAAGD,OAAO,CAACC,WAAR,CAAoBC,OAApB,CAA4B,CAA5B,CAA+B,EAArD;;EACA,MAAMC,cAAc,GAAIC,IAAD,IAAU;IAC/BJ,OAAO,CAACK,OAAR,CAAgB,EAAE,GAAGD,IAAL;MAAWE,MAAM,EAAE;IAAnB,CAAhB;EACD,CAFD;;EAGA,MAAMC,iBAAiB,GAAIC,EAAD,IAAQ;IAChCR,OAAO,CAACS,UAAR,CAAmB;MAAED,EAAE,EAAEA;IAAN,CAAnB;EACD,CAFD;;EAGA,MAAME,YAAY,GAAG,MAAM;IACzBf,aAAa,CAAC,IAAD,CAAb;EACD,CAFD;;EAGA,MAAMgB,cAAc,GAAG,MAAOC,QAAP,IAAoB;IACzCf,eAAe,CAAC,IAAD,CAAf;IACA,MAAMgB,KAAK,CAAC,6DAAD,EAAgE;MACzEC,MAAM,EAAE,MADiE;MAEzEC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QAAEC,IAAI,EAAEN,QAAR;QAAkBO,YAAY,EAAEnB,OAAO,CAACoB;MAAxC,CAAf,CAFmE;MAGzEC,OAAO,EAAE;QAAE,gBAAgB;MAAlB;IAHgE,CAAhE,CAAX;IAKA1B,aAAa,CAAC,KAAD,CAAb;IACAE,eAAe,CAAC,KAAD,CAAf;IACAE,YAAY,CAAC,IAAD,CAAZ;IACAC,OAAO,CAACsB,SAAR;EACD,CAXD;;EAaA,IAAIC,SAAS,gBACX;IAAI,SAAS,EAAC,YAAd;IAAA,UACGvB,OAAO,CAACoB,KAAR,CAAcI,GAAd,CAAmBpB,IAAD,iBACjB,QAAC,QAAD;MAEE,IAAI,EAAEA,IAAI,CAACqB,IAFb;MAGE,KAAK,EAAErB,IAAI,CAACsB,KAHd;MAIE,MAAM,EAAEtB,IAAI,CAACE,MAJf;MAKE,KAAK,EAAEH,cAAc,CAACwB,IAAf,CAAoB,IAApB,EAA0BvB,IAA1B,CALT;MAME,QAAQ,EAAEG,iBAAiB,CAACoB,IAAlB,CAAuB,IAAvB,EAA6BvB,IAAI,CAACI,EAAlC;IANZ,GACOJ,IAAI,CAACI,EADZ;MAAA;MAAA;MAAA;IAAA,QADD;EADH;IAAA;IAAA;IAAA;EAAA,QADF;;EAcA,MAAMoB,YAAY,gBAChB;IAAK,SAAS,EAAC,SAAf;IAAA,wBACE;MAAQ,OAAO,EAAEnC,KAAK,CAACoC,SAAvB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAEG7B,OAAO,CAACoB,KAAR,CAAcU,MAAd,GAAuB,CAAvB,iBACC;MAAQ,SAAS,EAAC,OAAlB;MAA0B,OAAO,EAAEpB,YAAnC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;;EAUA,MAAMqB,WAAW,gBACf,QAAC,KAAD,CAAO,QAAP;IAAA,WACGR,SADH,eAEE;MAAK,SAAS,EAAC,OAAf;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA,UAAOtB;MAAP;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,EAMG,CAACP,UAAD,IAAekC,YANlB;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;;EAUA,MAAMI,QAAQ,gBACZ,QAAC,QAAD;IAAU,SAAS,EAAErB,cAArB;IAAqC,QAAQ,EAAElB,KAAK,CAACoC;EAArD;IAAA;IAAA;IAAA;EAAA,QADF;;EAGA,MAAMI,iBAAiB,gBAAG;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAA1B;;EACA,MAAMC,SAAS,gBACb;IAAK,SAAS,EAAC,SAAf;IAAA,wBACE;MAAI,KAAK,EAAE;QAAE,cAAc;MAAhB,CAAX;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAQ,SAAS,EAAC,OAAlB;MAA0B,OAAO,EAAEzC,KAAK,CAACoC,SAAzC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;;EAQA,oBACE,QAAC,KAAD;IAAO,SAAS,EAAEpC,KAAK,CAACoC,SAAxB;IAAA,WACG,CAACjC,YAAD,IAAiB,CAACE,SAAlB,IAA+B,CAACJ,UAAhC,IAA8CqC,WADjD,EAEGrC,UAAU,IAAIsC,QAFjB,EAGGpC,YAAY,IAAI,CAACE,SAAjB,IAA8B,CAACJ,UAA/B,IAA6CuC,iBAHhD,EAIGnC,SAAS,IAAI,CAACJ,UAAd,IAA4BwC,SAJ/B;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAQD,CAlFD;;GAAM1C,I;;KAAAA,I;AAmFN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}